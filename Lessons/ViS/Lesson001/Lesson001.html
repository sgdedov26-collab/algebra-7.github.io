<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Наибольшее и наименьшее значение числового набора. Размах</title>
    <!-- Подключение MathJax для отображения математических формул -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <!-- Подключение иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Основные стили страницы */
        :root {
            --primary-blue: #007AFF;
            --secondary-blue: #5AC8FA;
            --accent-purple: #AF52DE;
            --accent-orange: #FF9500;
            --accent-green: #34C759;
            --accent-red: #FF3B30;
            --background-light: #F2F2F7;
            --card-bg: #FFFFFF;
            --text-primary: #000000;
            --text-secondary: #8E8E93;
            --border-radius: 14px;
            --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
        }

        body {
            background: var(--background-light);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            font-size: 19px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Стили для заголовка страницы */
        .page-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            animation: fadeIn 0.8s ease-out;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-purple));
        }

        .page-header h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-header p {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Стили для навигации по слайдам */
        .slides-navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 30px;
        }

        .slide-dot {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        .slide-dot:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        .slide-dot.active {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            color: white;
            transform: scale(1.1);
        }

        /* Стили для рабочей области */
        .workspace {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: 30px;
            min-height: 500px;
            margin-bottom: 30px;
            animation: slideIn 0.5s ease-out;
            position: relative;
            overflow: hidden;
            font-size: 1.2rem;
        }

        .workspace h2 {
            font-size: 2.2rem;
            margin-bottom: 25px;
            color: var(--text-primary);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .workspace h2::before {
            content: '';
            display: block;
            width: 6px;
            height: 30px;
            background: linear-gradient(to bottom, var(--primary-blue), var(--accent-purple));
            border-radius: 3px;
        }

        /* Стили для элементов контента */
        .content-block {
            margin-bottom: 30px;
            padding: 25px;
            border-radius: var(--border-radius);
            animation: fadeInUp 0.6s ease-out;
            position: relative;
            background: var(--card-bg);
            box-shadow: var(--shadow-light);
            font-size: 1.2rem;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .content-block h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.6rem;
            color: var(--text-primary);
        }

        .content-block p, .content-block li {
            font-size: 1.2rem;
            line-height: 1.7;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        /* Стили для слайда "Целеполагание" */
        .goal-setting-container {
            text-align: center;
            padding: 30px;
        }

        .goal-title {
            font-size: 2.5rem;
            color: var(--primary-blue);
            margin-bottom: 30px;
            font-weight: 700;
        }

        .goals-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .goal-item {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border-left: 4px solid var(--primary-blue);
            text-align: left;
        }

        .goal-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .goal-item i {
            font-size: 2rem;
            color: var(--primary-blue);
            margin-bottom: 15px;
        }

        .goal-item h4 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--primary-blue);
        }

        .motivation-quote {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 40px 0;
            font-style: italic;
            font-size: 1.6rem;
            color: var(--text-primary);
            box-shadow: var(--shadow-medium);
            border-left: 5px solid var(--accent-purple);
            line-height: 1.6;
        }

        .quote-author {
            text-align: right;
            margin-top: 20px;
            font-weight: bold;
            color: var(--accent-purple);
            font-size: 1.3rem;
        }

        /* Стили для вводного слайда */
        .intro-container {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }

        .intro-text {
            flex: 1;
        }

        .commander-avatar {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-blue);
            box-shadow: var(--shadow-medium);
        }

        .commander-message {
            background: rgba(0, 122, 255, 0.05);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            border-left: 4px solid var(--primary-blue);
        }

        .commander-message h3 {
            color: var(--primary-blue);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lesson-objectives {
            background: rgba(175, 82, 222, 0.05);
            padding: 25px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--accent-purple);
        }

        .lesson-objectives h3 {
            color: var(--accent-purple);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lesson-objectives ul {
            text-align: left;
        }

        /* Стили для теоретического слайда */
        .theory {
            background: rgba(0, 122, 255, 0.05);
            border-left: 4px solid var(--primary-blue);
        }

        .theory h3 i {
            color: var(--primary-blue);
        }

        .definition {
            background: rgba(90, 200, 250, 0.05);
            border-left: 4px solid var(--secondary-blue);
        }

        .definition h3 i {
            color: var(--secondary-blue);
        }

        .formula-block {
            background: rgba(255, 149, 0, 0.05);
            border-left: 4px solid var(--accent-orange);
        }

        .formula-block h3 i {
            color: var(--accent-orange);
        }

        .example {
            background: rgba(175, 82, 222, 0.05);
            border-left: 4px solid var(--accent-purple);
        }

        .example h3 i {
            color: var(--accent-purple);
        }

        .important {
            background: rgba(255, 59, 48, 0.05);
            border-left: 4px solid var(--accent-red);
        }

        .important h3 i {
            color: var(--accent-red);
        }

        .tip {
            background: rgba(52, 199, 89, 0.05);
            border-left: 4px solid var(--accent-green);
        }

        .tip h3 i {
            color: var(--accent-green);
        }

        .exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            font-size: 1.2rem;
            box-shadow: var(--shadow-light);
        }

        .exercise ol, .exercise ul {
            padding-left: 25px;
            margin: 15px 0;
        }

        .exercise li {
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        /* Стили для слайда с вводом чисел */
        .number-input-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .number-input-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-task {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border-left: 3px solid var(--primary-blue);
        }

        .input-task p {
            margin-bottom: 10px;
            font-weight: 600;
        }

        .input-field {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .input-field input {
            padding: 10px 15px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            font-size: 1.2rem;
            width: 120px;
            background: white;
            transition: var(--transition);
        }

        .input-field input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(175, 82, 222, 0.2);
        }

        .input-field input.correct {
            border-color: var(--accent-green);
            background-color: rgba(52, 199, 89, 0.1);
        }

        .input-field input.incorrect {
            border-color: var(--accent-red);
            background-color: rgba(255, 59, 48, 0.1);
        }

        /* Стили для слайда с вводом текста */
        .text-input-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .text-input-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .text-task {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border-left: 3px solid var(--primary-blue);
        }

        .text-task p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .text-input-container {
            display: inline-block;
            position: relative;
            margin: 0 5px;
        }

        .text-input {
            padding: 8px 12px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            font-size: 1.2rem;
            background: white;
            transition: var(--transition);
            min-width: 120px;
            text-align: center;
        }

        .text-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(175, 82, 222, 0.2);
        }

        .text-input.correct {
            border-color: var(--accent-green);
            background-color: rgba(52, 199, 89, 0.1);
        }

        .text-input.incorrect {
            border-color: var(--accent-red);
            background-color: rgba(255, 59, 48, 0.1);
        }

        .input-hint {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-blue);
            color: white;
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .text-input-container:hover .input-hint {
            opacity: 1;
        }

        .result-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            display: none;
            font-size: 1.2rem;
        }

        .result-message.success {
            background-color: rgba(52, 199, 89, 0.1);
            color: var(--accent-green);
            border: 1px solid var(--accent-green);
            display: block;
        }

        .result-message.error {
            background-color: rgba(255, 59, 48, 0.1);
            color: var(--accent-red);
            border: 1px solid var(--accent-red);
            display: block;
        }

        .formula {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            text-align: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow-light);
            overflow-x: auto;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .solution {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--accent-purple);
            display: none;
            font-size: 1.2rem;
            box-shadow: var(--shadow-light);
        }

        .solution.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .solution h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-purple);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .solution p {
            font-size: 1.2rem;
            margin-bottom: 12px;
        }

        /* Стили для кнопок */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
            margin: 8px;
            position: relative;
            overflow: hidden;
            font-size: 1.2rem;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 122, 255, 0.4);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-check {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-red));
        }

        /* Стили для интерактивной панели */
        .panel-toggle {
            margin: 20px 0;
            text-align: center;
        }

        .interactive-panel {
            margin: 25px 0;
            border: 2px solid var(--primary-blue);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-medium);
            display: none;
            background: var(--card-bg);
        }

        .interactive-panel.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .panel-controls {
            background: rgba(0, 122, 255, 0.05);
            padding: 15px;
            display: flex;
            gap: 15px;
            align-items: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            justify-content: center;
            font-size: 1.2rem;
        }

        .color-picker {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .color-option {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.active {
            border-color: var(--text-primary);
            transform: scale(1.1);
        }

        .tool-control {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .tool-option {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--primary-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-blue);
            font-size: 1.3rem;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .tool-option:hover {
            background: var(--primary-blue);
            color: white;
        }

        .tool-option.active {
            background: var(--primary-blue);
            color: white;
        }

        .drawing-canvas-container {
            width: 100%;
            height: 400px;
            overflow: auto;
            background: 
                linear-gradient(90deg, #f1f3f4 1px, transparent 1px),
                linear-gradient(#f1f3f4 1px, transparent 1px);
            background-size: 40px 40px;
            background-position: 0 0, 0 0;
            cursor: crosshair;
        }

        #drawingCanvas {
            display: block;
        }

        /* Стили для задания "Облако слов" */
        .word-cloud-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .word-cloud-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .definition-task {
            margin-bottom: 20px;
        }

        .word-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border: 2px dashed var(--secondary-blue);
            min-height: 100px;
        }

        .word-item {
            padding: 10px 15px;
            background: white;
            color: var(--text-primary);
            border-radius: 20px;
            cursor: grab;
            user-select: none;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-weight: 500;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .word-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .word-item.dragging {
            opacity: 0.7;
            transform: scale(1.05);
        }

        .word-item.used {
            opacity: 0.4;
            cursor: not-allowed;
            background: #e9ecef;
        }

        .sentence-area {
            margin: 25px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border: 2px solid var(--primary-blue);
        }

        .sentence-area p {
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--primary-blue);
        }

        .drop-zone {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            min-height: 60px;
            padding: 15px;
            background: white;
            border-radius: var(--border-radius);
            border: 2px dashed var(--accent-purple);
            align-items: center;
        }

        .drop-zone.empty::after {
            content: "Перетащите слова сюда";
            color: var(--text-secondary);
            font-style: italic;
        }

        .sentence-word {
            padding: 8px 12px;
            background: linear-gradient(135deg, var(--accent-purple), var(--primary-blue));
            color: white;
            border-radius: 15px;
            cursor: pointer;
            user-select: none;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            font-weight: 500;
        }

        .sentence-word:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        /* Стили для задания "Сопоставление" */
        .matching-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .matching-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .matching-container {
            display: flex;
            justify-content: space-between;
            gap: 30px;
            margin: 30px 0;
            position: relative;
        }

        .matching-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .matching-item {
            padding: 15px 20px;
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            text-align: center;
            font-weight: 500;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .matching-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .matching-item.selected {
            border-color: var(--accent-purple);
            background: linear-gradient(135deg, var(--accent-purple), var(--primary-blue));
            color: white;
        }

        .matching-item.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .matching-item.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        .matching-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .matching-line {
            stroke: var(--accent-purple);
            stroke-width: 2;
            stroke-dasharray: 5, 5;
        }

        .matching-line.correct {
            stroke: var(--accent-green);
            stroke-dasharray: none;
        }

        .matching-line.incorrect {
            stroke: var(--accent-red);
            stroke-dasharray: none;
        }

        /* Стили для задания "Последовательность" */
        .sequence-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .sequence-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sequence-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 25px 0;
        }

        .sequence-item {
            padding: 15px 20px;
            background: white;
            border-radius: var(--border-radius);
            cursor: grab;
            transition: var(--transition);
            border: 2px solid transparent;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-weight: 500;
        }

        .sequence-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .sequence-item.dragging {
            opacity: 0.7;
            transform: scale(1.02);
        }

        .sequence-item.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .sequence-item.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        /* Стили для задания "Лишнее" */
        .odd-one-out-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .odd-one-out-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .items-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
            justify-content: center;
        }

        .item {
            padding: 15px 25px;
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-weight: 500;
            text-align: center;
            min-width: 120px;
        }

        .item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .item.crossed {
            text-decoration: line-through;
            opacity: 0.6;
            background: rgba(255, 59, 48, 0.1);
            border-color: var(--accent-red);
        }

        .item.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .item.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        /* Стили для задания "Множественный выбор" */
        .multiple-choice-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .multiple-choice-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 25px 0;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .option.selected {
            border-color: var(--accent-purple);
        }

        .option.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .option.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-blue);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .checkbox.checked {
            background: var(--primary-blue);
        }

        .checkbox.checked::after {
            content: '✓';
            color: white;
            font-weight: bold;
        }

        /* Стили для задания "Решение в тетради" */
        .notebook-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .notebook-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tasks-list {
            margin: 25px 0;
        }

        .task-item {
            padding: 15px 20px;
            background: white;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* Стили для задания "Классификация" */
        .classification-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .classification-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .classification-container {
            display: flex;
            gap: 30px;
            margin: 25px 0;
        }

        .category {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .category-header {
            padding: 15px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .category-items {
            min-height: 200px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border: 2px dashed var(--secondary-blue);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .items-pool {
            min-height: 150px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: var(--border-radius);
            border: 2px dashed var(--accent-purple);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        .classification-item {
            padding: 12px 15px;
            background: white;
            border-radius: var(--border-radius);
            cursor: grab;
            transition: var(--transition);
            border: 2px solid transparent;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-weight: 500;
        }

        .classification-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .classification-item.dragging {
            opacity: 0.7;
            transform: scale(1.02);
        }

        .classification-item.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .classification-item.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        /* Стили для задания "Викторина" */
        .quiz-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .quiz-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-container {
            margin: 25px 0;
        }

        .question {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 25px;
            text-align: center;
            color: var(--primary-blue);
        }

        .answers-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .answer {
            padding: 20px;
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-weight: 500;
            text-align: center;
        }

        .answer:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: #f8f8f8;
        }

        .answer.selected {
            border-color: var(--accent-purple);
            background: linear-gradient(135deg, var(--accent-purple), var(--primary-blue));
            color: white;
        }

        .answer.correct {
            border-color: var(--accent-green);
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
            animation: pulse 0.5s;
        }

        .answer.incorrect {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        .quiz-progress {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .progress-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--secondary-blue);
            transition: var(--transition);
        }

        .progress-dot.active {
            background: var(--accent-purple);
            transform: scale(1.2);
        }

        .progress-dot.completed {
            background: var(--accent-green);
        }

        /* Стили для задания "Видео" */
        .video-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .video-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin: 25px 0;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
        }

        /* Стили для задания "Ребус" */
        .rebus-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .rebus-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rebus-container {
            text-align: center;
            margin: 25px 0;
        }

        .rebus-image {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            margin-bottom: 25px;
            border: 2px solid var(--primary-blue);
        }

        .rebus-input {
            padding: 12px 20px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            font-size: 1.3rem;
            width: 300px;
            max-width: 100%;
            text-align: center;
            background: white;
            transition: var(--transition);
            margin-bottom: 20px;
        }

        .rebus-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(175, 82, 222, 0.2);
        }

        .rebus-input.correct {
            border-color: var(--accent-green);
            background-color: rgba(52, 199, 89, 0.1);
        }

        .rebus-input.incorrect {
            border-color: var(--accent-red);
            background-color: rgba(255, 59, 48, 0.1);
        }

        /* Стили для итоговой работы */
        .final-test-exercise {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .final-test-exercise h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-task {
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .test-question {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-blue);
        }

        .test-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }

        .test-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-option input {
            width: 18px;
            height: 18px;
        }

        .grade-result {
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            border-radius: var(--border-radius);
            font-size: 1.4rem;
            font-weight: bold;
        }

        .grade-5 {
            background: linear-gradient(135deg, var(--accent-green), #30D158);
            color: white;
        }

        .grade-4 {
            background: linear-gradient(135deg, var(--secondary-blue), #5AC8FA);
            color: white;
        }

        .grade-3 {
            background: linear-gradient(135deg, var(--accent-orange), #FF9F0A);
            color: white;
        }

        .grade-2 {
            background: linear-gradient(135deg, var(--accent-red), #FF453A);
            color: white;
        }

        /* Стили для слайда "Вопросы" */
        .questions-container {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border: 1px dashed var(--accent-purple);
            box-shadow: var(--shadow-light);
        }

        .questions-container h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .question-item {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .question-item strong {
            color: var(--primary-blue);
        }

        /* Стили для слайда рефлексии */
        .reflection-container {
            text-align: center;
            padding: 30px;
        }

        .reflection-title {
            font-size: 2.3rem;
            color: var(--primary-blue);
            margin-bottom: 30px;
            font-weight: 700;
        }

        .emoji-rating {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .emoji-option {
            font-size: 3.5rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 15px;
            border-radius: 50%;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .emoji-option:hover {
            transform: scale(1.2);
            background: #f8f8f8;
        }

        .emoji-option.selected {
            transform: scale(1.3);
            background: var(--primary-blue);
            color: white;
        }

        .reflection-feedback {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .reflection-feedback textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            resize: vertical;
            background: white;
            transition: var(--transition);
        }

        .reflection-feedback textarea:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(175, 82, 222, 0.2);
        }

        .completion-message {
            background: linear-gradient(135deg, var(--accent-purple), var(--primary-blue));
            color: white;
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            text-align: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow-medium);
        }

        /* Анимации */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            body {
                font-size: 17px;
            }
            
            .container {
                padding: 10px;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .page-header p {
                font-size: 1.1rem;
            }
            
            .workspace {
                padding: 20px;
                font-size: 1.1rem;
            }
            
            .workspace h2 {
                font-size: 1.7rem;
            }
            
            .slide-dot {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .content-block {
                padding: 20px;
                font-size: 1.1rem;
            }
            
            .content-block h3 {
                font-size: 1.4rem;
            }
            
            .content-block p, .content-block li {
                font-size: 1.1rem;
            }
            
            .intro-container {
                flex-direction: column;
                align-items: center;
            }
            
            .commander-avatar {
                width: 150px;
                height: 150px;
            }
            
            .formula {
                font-size: 1.3rem;
                padding: 15px;
            }
            
            .btn {
                font-size: 1.1rem;
                padding: 10px 20px;
            }
            
            .panel-controls {
                flex-wrap: wrap;
                justify-content: center;
                font-size: 1.1rem;
            }

            .emoji-rating {
                gap: 10px;
            }

            .emoji-option {
                font-size: 2.8rem;
            }
            
            .motivation-quote {
                font-size: 1.4rem;
                padding: 20px;
            }
            
            .completion-message {
                font-size: 1.3rem;
                padding: 20px;
            }
            
            .matching-container {
                flex-direction: column;
            }
            
            .matching-column {
                width: 100%;
            }
            
            .answers-container {
                grid-template-columns: 1fr;
            }
            
            .classification-container {
                flex-direction: column;
            }
            
            .rebus-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Заголовок страницы -->
        <header class="page-header">
            <h1 id="lesson-title">Наибольшее и наименьшее значение числового набора. Размах</h1>
            <p>Изучим понятия наибольшего и наименьшего значения, размаха и их применение</p>
        </header>

        <!-- Навигация по слайдам -->
        <div class="slides-navigation" id="slides-nav">
            <!-- Кружочки с номерами слайдов будут добавляться динамически -->
        </div>

        <!-- Рабочая область для контента слайдов -->
        <main class="workspace" id="workspace">
            <!-- Здесь будет отображаться содержимое активного слайда -->
            <div class="content-block">
                <h2>Добро пожаловать на урок!</h2>
                <p>Для начала работы выберите один из слайдов выше.</p>
            </div>
        </main>
    </div>

    <script>
        // Данные слайдов
        const slidesData = [
            // Слайд 1 - Целеполагание
            {
                title: "Целеполагание",
                content: `
                    <div class="goal-setting-container">
                        <h2 class="goal-title">Наши цели на урок</h2>
                        
                        <div class="goals-list">
                            <div class="goal-item">
                                <i class="fas fa-bullseye"></i>
                                <h4>Понять, что такое числовой набор</h4>
                                <p>Научиться определять числовые наборы и работать с ними</p>
                            </div>
                            
                            <div class="goal-item">
                                <i class="fas fa-calculator"></i>
                                <h4>Находить наибольшее и наименьшее значение</h4>
                                <p>Освоить алгоритм поиска экстремальных значений в наборе данных</p>
                            </div>
                            
                            <div class="goal-item">
                                <i class="fas fa-chart-line"></i>
                                <h4>Определять размах числового набора</h4>
                                <p>Научиться вычислять размах и понимать его значение</p>
                            </div>
                            
                            <div class="goal-item">
                                <i class="fas fa-balance-scale"></i>
                                <h4>Анализировать данные с помощью размаха</h4>
                                <p>Освоить методы анализа данных с использованием размаха</p>
                            </div>
                            
                            <div class="goal-item">
                                <i class="fas fa-tasks"></i>
                                <h4>Решать практические задачи</h4>
                                <p>Применить полученные знания для решения практических задач</p>
                            </div>
                            
                            <div class="goal-item">
                                <i class="fas fa-brain"></i>
                                <h4>Развивать аналитическое мышление</h4>
                                <p>Сформировать навыки анализа данных и принятия решений</p>
                            </div>
                        </div>
                        
                        <div class="motivation-quote">
                            <p>"В математике нет символов для неясных мыслей."</p>
                            <div class="quote-author">- Анри Пуанкаре</div>
                        </div>
                        
                        <div class="completion-message">
                            <p><i class="fas fa-flag"></i> Успехов в освоении материала! Помните: анализ данных - ключ к пониманию окружающего мира.</p>
                        </div>
                    </div>
                `
            },
            // Слайд 2 - Теория
            {
                title: "Теория: Числовой набор",
                content: `
                    <div class="content-block definition">
                        <h3><i class="fas fa-list-ol"></i> Что такое числовой набор?</h3>
                        <p><strong>Числовой набор</strong> — это просто набор чисел, полученных в результате измерений, опросов, экспериментов или просто записанных подряд.</p>
                    </div>
                    
                    <div class="content-block example">
                        <h3><i class="fas fa-calculator"></i> Примеры</h3>
                        <p>Рост учеников в классе (в см): 152, 160, 158, 165, 155</p>
                        <p>Температура за неделю: \\( 5^\\circ, 7^\\circ, 3^\\circ, 8^\\circ, 6^\\circ, 4^\\circ, 9^\\circ \\)</p>
                    </div>
                    
                    <div class="content-block definition">
                        <h3><i class="fas fa-sort"></i> Находим наибольшее и наименьшее значение</h3>
                        <p>Чтобы найти эти значения, нужно упорядочить числа — то есть расположить их по возрастанию (от меньшего к большему) или по убыванию (от большего к меньшему). Чаще удобнее — по возрастанию.</p>
                    </div>
                    
                    <div class="content-block example">
                        <h3><i class="fas fa-running"></i> Пример: Результаты прыжков в длину</h3>
                        <p>Даны результаты прыжков в длину двух спортсменов (в см):</p>
                        <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                            <tr>
                                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Попытка</th>
                                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Пётр</th>
                                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Василий</th>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">1</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">190</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">185</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">2</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">205</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">200</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">3</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">195</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">215</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">4</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">210</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">190</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">5</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">200</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">190</td>
                            </tr>
                        </table>
                        
                        <p><strong>Для Петра:</strong></p>
                        <p>Числа: 190, 205, 195, 210, 200</p>
                        <p>Упорядочим: <strong>190, 195, 200, 205, 210</strong></p>
                        <p>Наименьшее значение: <strong>190</strong></p>
                        <p>Наибольшее значение: <strong>210</strong></p>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 3 - Теория: Размах
            {
                title: "Теория: Размах",
                content: `
                    <div class="content-block definition">
                        <h3><i class="fas fa-chart-bar"></i> Что такое размах?</h3>
                        <p><strong>Размах</strong> — это разность между наибольшим и наименьшим значением в наборе.</p>
                        <div class="formula">
                            Размах = Наибольшее значение – Наименьшее значение
                        </div>
                        <p>Это простая, но очень полезная мера — она показывает, насколько "разбросаны" наши данные.</p>
                    </div>
                    
                    <div class="content-block example">
                        <h3><i class="fas fa-calculator"></i> Пример: Вычислим размах для Петра и Василия</h3>
                        <p><strong>Для Петра:</strong></p>
                        <p>Наибольшее: 210</p>
                        <p>Наименьшее: 190</p>
                        <p>Размах = \\( 210 - 190 = 20 \\) см</p>
                        
                        <p><strong>Для Василия:</strong></p>
                        <p>Наибольшее: 215</p>
                        <p>Наименьшее: 185</p>
                        <p>Размах = \\( 215 - 185 = 30 \\) см</p>
                        
                        <p><strong>Вывод:</strong> У Василия размах больше — значит, его результаты более "неустойчивы", он прыгает то плохо, то отлично. У Петра — стабильнее, разница между худшим и лучшим прыжком всего 20 см.</p>
                    </div>
                    
                    <div class="content-block important">
                        <h3><i class="fas fa-exclamation-triangle"></i> Почему размах важен?</h3>
                        <p>Размах — это <strong>мера рассеивания</strong>. Он помогает понять:</p>
                        <ul>
                            <li>Насколько данные "разбросаны"</li>
                            <li>Есть ли "выбросы" (очень большие или маленькие значения)</li>
                            <li>Насколько стабильны результаты</li>
                        </ul>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 4 - Теория: Особенности размаха
            {
                title: "Теория: Особенности размаха",
                content: `
                    <div class="content-block important">
                        <h3><i class="fas fa-exclamation-triangle"></i> Важно!</h3>
                        <p>Размах — <strong>неустойчивая мера</strong>. Это значит, что если в наборе появится одно очень большое или очень маленькое число — размах резко изменится, даже если остальные числа почти не меняются.</p>
                    </div>
                    
                    <div class="content-block example">
                        <h3><i class="fas fa-calculator"></i> Пример: Влияние выброса</h3>
                        <p>Представьте, что в классе 5 учеников с такими оценками за контрольную:</p>
                        <p>4, 5, 4, 5, 2</p>
                        <p>Наименьшее: 2</p>
                        <p>Наибольшее: 5</p>
                        <p>Размах = 5 - 2 = 3</p>
                        
                        <p>Теперь добавим одного ученика, который получил 1 (это выброс):</p>
                        <p>Новый набор: 4, 5, 4, 5, 2, 1</p>
                        <p>Наименьшее: 1</p>
                        <p>Наибольшее: 5</p>
                        <p>Размах = 5 - 1 = 4</p>
                        
                        <p>Размах увеличился, хотя почти все оценки остались прежними!</p>
                    </div>
                    
                    <div class="content-block tip">
                        <h3><i class="fas fa-lightbulb"></i> ✿ Когда важно знать наименьшее значение?</h3>
                        <p>Иногда минимум важнее максимума!</p>
                        <p><strong>Пример: Глубина реки</strong></p>
                        <p>Представьте, что штурман судна должен знать, где можно безопасно пройти. Если в одном месте глубина 2 метра, а в другом — 0,5 метра, то критически важно знать именно минимальную глубину — 0,5 м. Иначе судно может сесть на мель!</p>
                    </div>
                    
                    <div class="content-block formula-block">
                        <h3><i class="fas fa-list-ol"></i> Алгоритм действий:</h3>
                        <p>Чтобы найти размах, следуйте этим шагам:</p>
                        <ol>
                            <li>Выпишите все числа из набора.</li>
                            <li>Упорядочьте их по возрастанию (или убыванию).</li>
                            <li>Найдите наименьшее и наибольшее значения.</li>
                            <li>Вычтите наименьшее из наибольшего — получите размах.</li>
                        </ol>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 5 - Решение в тетради с самопроверкой
            {
                title: "Задание: Решение в тетради с самопроверкой",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-book"></i> Решите в тетради</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните задание письменно в тетради. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание:</strong> Найдите наименьшее и наибольшее значения, размах, среднее значение и медиану набора чисел 17, 5, 16, 10, 2.</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showNotebookSolution1()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="notebookSolution1">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p>1. Упорядочим числа по возрастанию: 2, 5, 10, 16, 17</p>
                                <p>2. Наименьшее значение: 2</p>
                                <p>3. Наибольшее значение: 17</p>
                                <p>4. Размах = 17 - 2 = 15</p>
                                <p>5. Среднее значение = (17 + 5 + 16 + 10 + 2) / 5 = 50 / 5 = 10</p>
                                <p>6. Медиана (среднее число в упорядоченном наборе): 10</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 6 - Решение в тетради с самопроверкой
            {
                title: "Задание: Решение в тетради с самопроверкой",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-book"></i> Решите в тетради</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните задание письменно в тетради. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание:</strong> В таблице приведены данные о производстве и урожайности зерновых культур в России за 10 лет.</p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                                        <tr>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Год</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2013</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2014</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2015</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2016</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2017</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2018</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2019</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2020</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2021</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2022</th>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;">Производство зерновых (млн т)</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">92,4</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">105,2</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">104,7</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">120,7</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">135,5</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">113,3</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">121,2</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">133,5</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">121,4</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">157,6</td>
                                        </tr>
                                    </table>
                                    <p>Найдите наименьшее значение, наибольшее значение и размах <strong>производства</strong> зерновых культур (в млн т).</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showNotebookSolution2()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="notebookSolution2">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p>1. Выпишем данные по производству зерновых: 92,4; 105,2; 104,7; 120,7; 135,5; 113,3; 121,2; 133,5; 121,4; 157,6</p>
                                <p>2. Упорядочим по возрастанию: 92,4; 104,7; 105,2; 113,3; 120,7; 121,2; 121,4; 133,5; 135,5; 157,6</p>
                                <p>3. Наименьшее значение: 92,4 млн т</p>
                                <p>4. Наибольшее значение: 157,6 млн т</p>
                                <p>5. Размах = 157,6 - 92,4 = 65,2 млн т</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 7 - Решение в тетради с самопроверкой
            {
                title: "Задание: Решение в тетради с самопроверкой",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-book"></i> Решите в тетради</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните задание письменно в тетради. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание:</strong> В таблице даны результаты измерения температуры тела пациента в больнице.</p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                                        <tr>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Время</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">7 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">9 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">11 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">13 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">15 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">17 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">19 ч</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">21 ч</th>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;">\\( t^\\circ C \\)</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,1</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">38,4</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,8</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,4</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,6</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">38,0</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,2</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">37,3</td>
                                        </tr>
                                    </table>
                                    <p>Найдите наименьшее и наибольшее значения температуры, размах и среднее арифметическое (в градусах Цельсия).</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showNotebookSolution3()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="notebookSolution3">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p>1. Выпишем данные: 37,1; 38,4; 37,8; 37,4; 37,6; 38,0; 37,2; 37,3</p>
                                <p>2. Упорядочим по возрастанию: 37,1; 37,2; 37,3; 37,4; 37,6; 37,8; 38,0; 38,4</p>
                                <p>3. Наименьшее значение: 37,1°C</p>
                                <p>4. Наибольшее значение: 38,4°C</p>
                                <p>5. Размах = 38,4 - 37,1 = 1,3°C</p>
                                <p>6. Среднее арифметическое = (37,1 + 38,4 + 37,8 + 37,4 + 37,6 + 38,0 + 37,2 + 37,3) / 8 = 300,8 / 8 = 37,6°C</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 8 - Решение в тетради с самопроверкой
            {
                title: "Задание: Решение в тетради с самопроверкой",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-book"></i> Решите в тетради</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните задание письменно в тетради. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание:</strong> Наименьшее значение набора равно 1, наибольшее значение равно 7. Каждое число из набора умножили на одно и то же число 7. Найдите наименьшее и наибольшее значение получившегося набора.</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showNotebookSolution4()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="notebookSolution4">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p>1. Исходный набор: наименьшее = 1, наибольшее = 7</p>
                                <p>2. Умножаем все числа набора на 7</p>
                                <p>3. Наименьшее значение нового набора = 1 × 7 = 7</p>
                                <p>4. Наибольшее значение нового набора = 7 × 7 = 49</p>
                                <p><strong>Ответ:</strong> наименьшее значение = 7, наибольшее значение = 49</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 9 - Решение в тетради с самопроверкой
            {
                title: "Задание: Решение в тетради с самопроверкой",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-book"></i> Решите в тетради</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните задание письменно в тетради. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание:</strong> При сборке автомобильного двигателя нужно добиться того, чтобы все поршни двигателя имели одинаковую массу (размах должен быть не более 0,1 г). Увеличить массу поршня нельзя, зато её можно уменьшить, высверливая углубления в специальных местах поршня. В таблице показаны массы 8 поршней для одного двигателя.</p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                                        <tr>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Поршень</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">1</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">2</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">3</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">4</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">5</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">6</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">7</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">8</th>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;">Масса (г)</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">345,2</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">344,6</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">345,1</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">345,9</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">344,8</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">346,0</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">344,7</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">344,9</td>
                                        </tr>
                                    </table>
                                    <p>Определите размах масс поршней.</p>
                                    <p>Номер какого поршня не требует доработки?</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showNotebookSolution5()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="notebookSolution5">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p>1. Выпишем массы поршней: 345,2; 344,6; 345,1; 345,9; 344,8; 346,0; 344,7; 344,9</p>
                                <p>2. Упорядочим по возрастанию: 344,6; 344,7; 344,8; 344,9; 345,1; 345,2; 345,9; 346,0</p>
                                <p>3. Наименьшее значение: 344,6 г</p>
                                <p>4. Наибольшее значение: 346,0 г</p>
                                <p>5. Размах = 346,0 - 344,6 = 1,4 г</p>
                                <p>6. Поршень с наименьшей массой (344,6 г) не требует доработки, так как массу можно только уменьшать, а этот поршень уже самый легкий.</p>
                                <p><strong>Ответ:</strong> размах масс поршней = 1,4 г; поршень №2 не требует доработки.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 10 - Итоговая комплексная работа
            {
                title: "Итоговая комплексная работа",
                content: `
                    <div class="final-test-exercise">
                        <h3><i class="fas fa-graduation-cap"></i> Итоговая работа по теме "Наибольшее и наименьшее значение. Размах"</h3>
                        
                        <div class="final-test-task">
                            <p>Выполните следующие задания. После выполнения нажмите кнопку "Проверить работу" для получения оценки:</p>
                            
                            <div class="test-task">
                                <div class="test-question">Задание 1: Выбери все верные утверждения (отметь галочкой)</div>
                                <div class="test-options">
                                    <div class="test-option">
                                        <input type="checkbox" id="testCheck1" value="A">
                                        <label for="testCheck1">Размах числового набора — это разница между средним арифметическим и наименьшим значением.</label>
                                    </div>
                                    <div class="test-option">
                                        <input type="checkbox" id="testCheck2" value="B">
                                        <label for="testCheck2">Наибольшее значение числового набора всегда больше или равно любому другому значению в этом наборе.</label>
                                    </div>
                                    <div class="test-option">
                                        <input type="checkbox" id="testCheck3" value="C">
                                        <label for="testCheck3">Размах числового набора — это разница между наибольшим и наименьшим значениями.</label>
                                    </div>
                                    <div class="test-option">
                                        <input type="checkbox" id="testCheck4" value="D">
                                        <label for="testCheck4">Наименьшее значение числового набора всегда положительное.</label>
                                    </div>
                                    <div class="test-option">
                                        <input type="checkbox" id="testCheck5" value="E">
                                        <label for="testCheck5">Для нахождения размаха числового набора необходимо знать только наибольшее и наименьшее значения.</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="test-task">
                                <div class="test-question">Задание 2: Определи неизвестное число, зная, что размах числового набора равен 32.</div>
                                <p>Х, 6, 9, 18, 22</p>
                                <div class="input-field">
                                    <span>Ответ:</span>
                                    <input type="text" id="testAnswer2" placeholder="Введите число">
                                </div>
                            </div>
                            
                            <div class="test-task">
                                <div class="test-question">Задание 3: Дан набор: 12, 18, 9, 15, 21, 6, 17</div>
                                <div class="input-field">
                                    <span>Наибольшее значение:</span>
                                    <input type="text" id="testAnswer3a" placeholder="Введите число">
                                </div>
                                <div class="input-field">
                                    <span>Наименьшее значение:</span>
                                    <input type="text" id="testAnswer3b" placeholder="Введите число">
                                </div>
                                <div class="input-field">
                                    <span>Размах:</span>
                                    <input type="text" id="testAnswer3c" placeholder="Введите число">
                                </div>
                            </div>
                            
                            <div class="test-task">
                                <div class="test-question">Задание 4: В таблице — температура воздуха (в °С) в городе в течение 5 дней:</div>
                                <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                                    <tr>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">День</th>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Пн</th>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Вт</th>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Ср</th>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Чт</th>
                                        <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">Пт</th>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 8px;">Температура</td>
                                        <td style="border: 1px solid #ddd; padding: 8px;">-2</td>
                                        <td style="border: 1px solid #ddd; padding: 8px;">3</td>
                                        <td style="border: 1px solid #ddd; padding: 8px;">1</td>
                                        <td style="border: 1px solid #ddd; padding: 8px;">5</td>
                                        <td style="border: 1px solid #ddd; padding: 8px;">-1</td>
                                    </tr>
                                </table>
                                <div class="input-field">
                                    <span>Наименьшая температура:</span>
                                    <input type="text" id="testAnswer4a" placeholder="Введите число">
                                </div>
                                <div class="input-field">
                                    <span>Наибольшая температура:</span>
                                    <input type="text" id="testAnswer4b" placeholder="Введите число">
                                </div>
                                <div class="input-field">
                                    <span>На сколько градусов изменилась температура от самого холодного к самому тёплому дню?</span>
                                    <input type="text" id="testAnswer4c" placeholder="Введите число">
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn btn-check" onclick="checkFinalTest()">
                                    <i class="fas fa-check-circle"></i> Проверить работу
                                </button>
                                <button class="btn" onclick="resetFinalTest()">
                                    <i class="fas fa-redo"></i> Начать заново
                                </button>
                            </div>
                            
                            <div id="finalTestResult" class="result-message"></div>
                            <div id="finalTestGrade" class="grade-result" style="display: none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 11 - Вопросы для самоконтроля
            {
                title: "Вопросы для самоконтроля",
                content: `
                    <div class="questions-container">
                        <h3><i class="fas fa-question-circle"></i> Вопросы по теме "Наибольшее и наименьшее значение. Размах"</h3>
                        
                        <div class="question-item">
                            <p><strong>1. Что такое числовой набор?</strong></p>
                            <p>Дайте определение и приведите примеры.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>2. Как найти наибольшее и наименьшее значение в числовом наборе?</strong></p>
                            <p>Опишите алгоритм действий.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>3. Что такое размах числового набора?</strong></p>
                            <p>Дайте определение и объясните, как его вычислить.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>4. Что показывает размах числового набора?</strong></p>
                            <p>Объясните практическое значение этой характеристики.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>5. Почему размах считается неустойчивой мерой?</strong></p>
                            <p>Приведите пример, демонстрирующий это свойство.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>6. В каких практических ситуациях важно знать наименьшее значение набора?</strong></p>
                            <p>Приведите примеры из реальной жизни.</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>7. Как изменятся наибольшее и наименьшее значения, если все числа набора умножить на одно и то же число?</strong></p>
                            <p>Объясните на примере.</p>
                        </div>
                        
                        <div class="completion-message">
                            <p><i class="fas fa-brain"></i> Ответьте на эти вопросы для закрепления материала. Если возникли трудности, вернитесь к предыдущим слайдам.</p>
                        </div>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            },
            // Слайд 12 - Задание на самоподготовку
            {
                title: "Задание на самоподготовку",
                content: `
                    <div class="notebook-exercise">
                        <h3><i class="fas fa-home"></i> Самостоятельная работа</h3>
                        
                        <div class="notebook-task">
                            <p>Выполните следующие задания письменно в тетради для домашних работ. После выполнения нажмите кнопку "Показать решение" для самопроверки:</p>
                            
                            <div class="tasks-list">
                                <div class="task-item">
                                    <p><strong>Задание 1:</strong> Найдите наименьшее и наибольшее значения, размах, среднее значение и медиану набора чисел 13, 19, 10, 4, 17, 15.</p>
                                </div>
                                
                                <div class="task-item">
                                    <p><strong>Задание 2:</strong> В течение недели ученик записывал количество времени (в минутах), которое он тратил на выполнение домашнего задания по математике: 30, 45, 35, 40, 50, 35, 40</p>
                                    <p>Найди: Наибольшее значение: Наименьшее значение: Размах:</p>
                                </div>
                            </div>
                            
                            <div class="controls">
                                <button class="btn" onclick="showSelfStudySolution()">
                                    <i class="fas fa-eye"></i> Показать решение
                                </button>
                            </div>
                            
                            <div class="solution" id="selfStudySolution">
                                <h4><i class="fas fa-check-circle"></i> Решение:</h4>
                                <p><strong>Задание 1:</strong></p>
                                <p>1. Упорядочим числа по возрастанию: 4, 10, 13, 15, 17, 19</p>
                                <p>2. Наименьшее значение: 4</p>
                                <p>3. Наибольшее значение: 19</p>
                                <p>4. Размах = 19 - 4 = 15</p>
                                <p>5. Среднее значение = (13 + 19 + 10 + 4 + 17 + 15) / 6 = 78 / 6 = 13</p>
                                <p>6. Медиана = (13 + 15) / 2 = 14 (так как количество чисел четное, медиана - среднее арифметическое двух центральных чисел)</p>
                                
                                <p><strong>Задание 2:</strong></p>
                                <p>1. Упорядочим числа по возрастанию: 30, 35, 35, 40, 40, 45, 50</p>
                                <p>2. Наибольшее значение: 50</p>
                                <p>3. Наименьшее значение: 30</p>
                                <p>4. Размах = 50 - 30 = 20</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-block">
                        <h3><i class="fas fa-video"></i> Дополнительные материалы</h3>
                        <p><strong>Наибольшее и наименьшее значение. Размах.</strong></p>
                        <p><a href="https://rutube.ru/video/77f3635134357430493ffac0664043d9/?r=wd" target="_blank">Смотреть видео</a></p>
                    </div>
                    
                    <div class="panel-toggle">
                        <button class="btn" onclick="togglePanel()">
                            <i class="fas fa-pen"></i> Открыть интерактивную панель
                        </button>
                    </div>
                    <div class="interactive-panel" id="interactivePanel">
                        <div class="panel-controls">
                            <div class="color-option active" style="background-color: #007AFF;" data-color="#007AFF"></div>
                            <div class="color-option" style="background-color: #5AC8FA;" data-color="#5AC8FA"></div>
                            <div class="color-option" style="background-color: #AF52DE;" data-color="#AF52DE"></div>
                            <div class="color-option" style="background-color: #FF9500;" data-color="#FF9500"></div>
                            <div class="color-option" style="background-color: #34C759;" data-color="#34C759"></div>
                            <div class="color-option" style="background-color: #FF3B30;" data-color="#FF3B30"></div>
                            
                            <div class="tool-option active" data-tool="pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-option" data-tool="eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                            <div class="tool-option" id="clearBtn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                        
                        <div class="drawing-canvas-container">
                            <canvas id="drawingCanvas" width="1200" height="800"></canvas>
                        </div>
                    </div>
                `
            }
        ];

        // Переменные для рисования
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = '#007AFF';
        let currentTool = 'pen';
        let canvas, ctx;

        // Переменные для итогового теста
        const finalTestAnswers = {
            answer1: ["B", "C", "E"],
            answer2: "38",
            answer3a: "21",
            answer3b: "6",
            answer3c: "15",
            answer4a: "-2",
            answer4b: "5",
            answer4c: "7"
        };

        // Инициализация страницы
        document.addEventListener('DOMContentLoaded', function() {
            initSlides();
        });

        // Функции для рисования
        function initDrawingPanel() {
            canvas = document.getElementById('drawingCanvas');
            if (!canvas) return;
            
            ctx = canvas.getContext('2d');
            
            // Настройка контекста рисования
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            ctx.lineWidth = 2;
            ctx.strokeStyle = currentColor;
            
            // Обработчики событий для рисования
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Обработчики для сенсорных устройств
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', stopDrawing);
            
            // Обработчики для элементов управления
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentColor = this.getAttribute('data-color');
                    if (currentTool === 'pen') {
                        ctx.strokeStyle = currentColor;
                    }
                });
            });
            
            document.querySelectorAll('.tool-option[data-tool]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.tool-option[data-tool]').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentTool = this.getAttribute('data-tool');
                    
                    if (currentTool === 'pen') {
                        ctx.strokeStyle = currentColor;
                        ctx.globalCompositeOperation = 'source-over';
                        ctx.lineWidth = 2;
                    } else if (currentTool === 'eraser') {
                        ctx.strokeStyle = '#FFFFFF';
                        ctx.globalCompositeOperation = 'destination-out';
                        ctx.lineWidth = 8;
                    }
                });
            });
            
            document.getElementById('clearBtn').addEventListener('click', clearCanvas);
        }

        function startDrawing(e) {
            isDrawing = true;
            const pos = getMousePos(canvas, e);
            [lastX, lastY] = [pos.x, pos.y];
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const pos = getMousePos(canvas, e);
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
            
            [lastX, lastY] = [pos.x, pos.y];
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function getMousePos(canvas, evt) {
            const rect = canvas.getBoundingClientRect();
            let clientX, clientY;
            
            if (evt.type.includes('touch')) {
                clientX = evt.touches[0].clientX;
                clientY = evt.touches[0].clientY;
            } else {
                clientX = evt.clientX;
                clientY = evt.clientY;
            }
            
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function togglePanel() {
            const panel = document.getElementById('interactivePanel');
            panel.classList.toggle('show');
            
            // Инициализируем панель при первом открытии
            if (panel.classList.contains('show')) {
                setTimeout(initDrawingPanel, 100);
            }
        }

        // Функции для задания "Решение в тетради с самопроверкой"
        function showNotebookSolution1() {
            const solution = document.getElementById('notebookSolution1');
            solution.classList.add('show');
            renderMathJax();
        }

        function showNotebookSolution2() {
            const solution = document.getElementById('notebookSolution2');
            solution.classList.add('show');
            renderMathJax();
        }

        function showNotebookSolution3() {
            const solution = document.getElementById('notebookSolution3');
            solution.classList.add('show');
            renderMathJax();
        }

        function showNotebookSolution4() {
            const solution = document.getElementById('notebookSolution4');
            solution.classList.add('show');
            renderMathJax();
        }

        function showNotebookSolution5() {
            const solution = document.getElementById('notebookSolution5');
            solution.classList.add('show');
            renderMathJax();
        }

        // Функции для итогового теста
        function checkFinalTest() {
            let correctCount = 0;
            const totalQuestions = 4;
            
            // Проверка вопроса 1
            const checkedOptions = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'))
                .map(checkbox => checkbox.value);
            const isQuestion1Correct = checkedOptions.length === finalTestAnswers.answer1.length &&
                finalTestAnswers.answer1.every(opt => checkedOptions.includes(opt));
            
            if (isQuestion1Correct) {
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    if (finalTestAnswers.answer1.includes(checkbox.value)) {
                        checkbox.parentElement.classList.add('correct');
                    }
                });
                correctCount++;
            } else {
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    if (finalTestAnswers.answer1.includes(checkbox.value) && checkedOptions.includes(checkbox.value)) {
                        checkbox.parentElement.classList.add('correct');
                    } else if (finalTestAnswers.answer1.includes(checkbox.value) && !checkedOptions.includes(checkbox.value)) {
                        checkbox.parentElement.classList.add('incorrect');
                    } else if (!finalTestAnswers.answer1.includes(checkbox.value) && checkedOptions.includes(checkbox.value)) {
                        checkbox.parentElement.classList.add('incorrect');
                    }
                });
            }
            
            // Проверка вопроса 2
            const answer2 = document.getElementById('testAnswer2').value.trim();
            if (answer2 === finalTestAnswers.answer2) {
                document.getElementById('testAnswer2').classList.add('correct');
                correctCount++;
            } else {
                document.getElementById('testAnswer2').classList.add('incorrect');
            }
            
            // Проверка вопроса 3
            const answer3a = document.getElementById('testAnswer3a').value.trim();
            const answer3b = document.getElementById('testAnswer3b').value.trim();
            const answer3c = document.getElementById('testAnswer3c').value.trim();
            const isQuestion3Correct = answer3a === finalTestAnswers.answer3a && 
                                      answer3b === finalTestAnswers.answer3b && 
                                      answer3c === finalTestAnswers.answer3c;
            
            if (isQuestion3Correct) {
                document.getElementById('testAnswer3a').classList.add('correct');
                document.getElementById('testAnswer3b').classList.add('correct');
                document.getElementById('testAnswer3c').classList.add('correct');
                correctCount++;
            } else {
                if (answer3a === finalTestAnswers.answer3a) {
                    document.getElementById('testAnswer3a').classList.add('correct');
                } else {
                    document.getElementById('testAnswer3a').classList.add('incorrect');
                }
                
                if (answer3b === finalTestAnswers.answer3b) {
                    document.getElementById('testAnswer3b').classList.add('correct');
                } else {
                    document.getElementById('testAnswer3b').classList.add('incorrect');
                }
                
                if (answer3c === finalTestAnswers.answer3c) {
                    document.getElementById('testAnswer3c').classList.add('correct');
                } else {
                    document.getElementById('testAnswer3c').classList.add('incorrect');
                }
            }
            
            // Проверка вопроса 4
            const answer4a = document.getElementById('testAnswer4a').value.trim();
            const answer4b = document.getElementById('testAnswer4b').value.trim();
            const answer4c = document.getElementById('testAnswer4c').value.trim();
            const isQuestion4Correct = answer4a === finalTestAnswers.answer4a && 
                                      answer4b === finalTestAnswers.answer4b && 
                                      answer4c === finalTestAnswers.answer4c;
            
            if (isQuestion4Correct) {
                document.getElementById('testAnswer4a').classList.add('correct');
                document.getElementById('testAnswer4b').classList.add('correct');
                document.getElementById('testAnswer4c').classList.add('correct');
                correctCount++;
            } else {
                if (answer4a === finalTestAnswers.answer4a) {
                    document.getElementById('testAnswer4a').classList.add('correct');
                } else {
                    document.getElementById('testAnswer4a').classList.add('incorrect');
                }
                
                if (answer4b === finalTestAnswers.answer4b) {
                    document.getElementById('testAnswer4b').classList.add('correct');
                } else {
                    document.getElementById('testAnswer4b').classList.add('incorrect');
                }
                
                if (answer4c === finalTestAnswers.answer4c) {
                    document.getElementById('testAnswer4c').classList.add('correct');
                } else {
                    document.getElementById('testAnswer4c').classList.add('incorrect');
                }
            }
            
            // Вычисляем процент правильных ответов
            const percentage = (correctCount / totalQuestions) * 100;
            
            // Определяем оценку
            let grade, gradeClass;
            if (percentage >= 85) {
                grade = "5 (Отлично)";
                gradeClass = "grade-5";
            } else if (percentage >= 70) {
                grade = "4 (Хорошо)";
                gradeClass = "grade-4";
            } else if (percentage >= 55) {
                grade = "3 (Удовлетворительно)";
                gradeClass = "grade-3";
            } else {
                grade = "2 (Неудовлетворительно)";
                gradeClass = "grade-2";
            }
            
            // Показываем результат
            const resultMessage = document.getElementById('finalTestResult');
            resultMessage.className = 'result-message';
            resultMessage.innerHTML = `<i class="fas fa-chart-bar"></i> Правильно решено ${correctCount} из ${totalQuestions} заданий (${percentage.toFixed(1)}%)`;
            
            const gradeElement = document.getElementById('finalTestGrade');
            gradeElement.className = `grade-result ${gradeClass}`;
            gradeElement.innerHTML = `<i class="fas fa-star"></i> Ваша оценка: ${grade}`;
            gradeElement.style.display = 'block';
        }

        function resetFinalTest() {
            // Сбрасываем все поля
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
                checkbox.parentElement.classList.remove('correct', 'incorrect');
            });
            
            document.getElementById('testAnswer2').value = '';
            document.getElementById('testAnswer2').classList.remove('correct', 'incorrect');
            
            document.getElementById('testAnswer3a').value = '';
            document.getElementById('testAnswer3a').classList.remove('correct', 'incorrect');
            document.getElementById('testAnswer3b').value = '';
            document.getElementById('testAnswer3b').classList.remove('correct', 'incorrect');
            document.getElementById('testAnswer3c').value = '';
            document.getElementById('testAnswer3c').classList.remove('correct', 'incorrect');
            
            document.getElementById('testAnswer4a').value = '';
            document.getElementById('testAnswer4a').classList.remove('correct', 'incorrect');
            document.getElementById('testAnswer4b').value = '';
            document.getElementById('testAnswer4b').classList.remove('correct', 'incorrect');
            document.getElementById('testAnswer4c').value = '';
            document.getElementById('testAnswer4c').classList.remove('correct', 'incorrect');
            
            // Скрываем результаты
            document.getElementById('finalTestResult').className = 'result-message';
            document.getElementById('finalTestGrade').style.display = 'none';
        }

        // Функция для показа решения самоподготовки
        function showSelfStudySolution() {
            const solution = document.getElementById('selfStudySolution');
            solution.classList.add('show');
            renderMathJax();
        }

        // Функция для инициализации слайдов
        function initSlides() {
            const slidesNav = document.getElementById('slides-nav');
            const workspace = document.getElementById('workspace');
            
            // Создаем навигационные точки для слайдов
            slidesData.forEach((slide, index) => {
                const dot = document.createElement('div');
                dot.className = 'slide-dot';
                dot.textContent = index + 1;
                dot.dataset.slideIndex = index;
                
                dot.addEventListener('click', function() {
                    switchSlide(index);
                });
                
                slidesNav.appendChild(dot);
            });
            
            // Активируем первый слайд
            switchSlide(0);
        }

        // Функция для переключения слайдов
        function switchSlide(slideIndex) {
            // Обновляем активную точку в навигации
            document.querySelectorAll('.slide-dot').forEach((dot, index) => {
                if (index === slideIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // Обновляем содержимое рабочей области
            const workspace = document.getElementById('workspace');
            const slide = slidesData[slideIndex];
            
            workspace.innerHTML = `
                <h2>${slide.title}</h2>
                ${slide.content}
            `;
            
            // Инициализируем компоненты для конкретных слайдов
            setTimeout(() => {
                initDrawingPanel();
            }, 100);
            
            // Перерисовываем математические формулы
            renderMathJax();
        }

        // Функция для перерисовки формул MathJax
        function renderMathJax() {
            if (window.MathJax) {
                // Ждем загрузки MathJax
                MathJax.startup.promise.then(() => {
                    MathJax.typesetPromise().then(() => {
                        console.log('MathJax formulas rendered successfully');
                    }).catch((err) => {
                        console.log('MathJax typeset error:', err);
                    });
                });
            } else {
                // Если MathJax еще не загружен, ждем немного и пробуем снова
                setTimeout(renderMathJax, 100);
            }
        }
    </script>
</body>
</html>